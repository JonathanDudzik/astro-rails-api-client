<tbody id="productList"></tbody>

<script>
let index = 0
function cycleClassNames(...classNames) {
  value = classNames[index]
  index = next_index()
  return value

  function next_index() {
      return step_index(1)
  }

  function step_index(n) {
      console.log("index:", index % classNames.length)
      return (index + n) % classNames.length
  }
}

fetch('http://localhost:3000/products')
	.then(response => {
		if (!response.ok) {
			throw new Error('Network response was not OK');
		}
		return response.json();
	})
	.then(data => {
		createProductView(data)
	})
	.catch((error) => {
		console.error('Error:', error);
	});

function createProductView(data) {
	productListDiv = document.getElementById("productList")
	data.forEach(productObject => {
		const productTableRow = document.createElement('div'); 
		productTableRow.className = cycleClassNames("hi", "hello", "bye", "Goodbye")

		const titleParagraph = document.createElement('p')
		titleParagraph.textContent = productObject.title;

		productTableRow.appendChild(titleParagraph);
		productListDiv.appendChild(productTableRow);
	})
}
</script>

<style lang="scss">
.products {
	margin: 0;
    padding: 0.5em;
    a {
      padding: 0.354em 0.5em;
      border-radius: 0.354em;
    }
    table {
      border-collapse: collapse;
    }
    td {
      padding: 0.5em;
      margin: 0;
    }
    tr.list_line_odd {
      background-color: #effeef;
    }
    td.image {
      // Hide this on mobile devices
      display: none;
  
      // Assume anything bigger than 30em
      // is a non-mobile device and can 
      // fit the image.
      @media (min-width: 30em) {
        display: block;
        img {
          height: 11.3em;
        }
      }
    }
    td.description {
      h1 {
        font-size: 1.4em;
      }
    }
    td.actions {
      ul {
        padding: 0;
        list-style: none;
        li {
          padding: 0.5em 0.5em;
        }
      }
    }
    tfoot {
      td {
        padding: 0.5em 0;
      }
    }
}
</style>
